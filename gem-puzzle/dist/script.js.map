{"version":3,"sources":["webpack://gem-puzzle/./src/gameRules.js","webpack://gem-puzzle/./src/render.js","webpack://gem-puzzle/webpack/bootstrap","webpack://gem-puzzle/webpack/runtime/define property getters","webpack://gem-puzzle/webpack/runtime/hasOwnProperty shorthand","webpack://gem-puzzle/webpack/startup"],"names":["timerId","draggingCell","dragBlock","min","sec","targetDragBlock","this","isVolume","audio","document","querySelector","currentTime","play","e","target","closest","rows","columns","field","draggingIndex","Array","from","childNodes","indexOf","blocksCoord","dataTransfer","setData","id","classList","add","remove","indexOfNodes","moveCount","empty","audioHandler","targetElem","leftDiv","Math","abs","parseFloat","left","style","topDiv","top","blockSize","textContent","emptyLeft","emptyTop","emptyCell","emptyBlock","elem","every","item","value","winHandler","indexOfblockNode","blockElem","isFinished","counter","addEventListener","dragStart","event","moveHandler","dragFinish","dragDrop","i1","i2","t","numbers","a","kDisorder","i","len","length","j","clearInterval","savedFieldObj","board","forEach","savedCoord","moves","block","gameArray","push","localStorage","setItem","JSON","stringify","body","testNew","GameRules","fieldObj","parse","getItem","Object","values","map","getBlocks","isSolved","pause","addTimer","removeAttribute","stopWatch","setInterval","parseInt","pauseHandler","init","reload","newGameHandler","overlay","createElement","win","pressReload","winTime","appendChild","checkSolvability","swapBlocks","Render","fieldOptions","floor","keys","sort","random","isPause","sortedArray","suffleIndex","createIconHTML","icon_name","header","time","newGame","chooseFieldSize","pauseGame","volumeUp","audioClick","saveGame","loadGame","saveChange","innerHTML","setTimeout","saveGameHandler","setAttribute","selected","selectItem","resumeTimer","newField","getField","width","height","backgroundImage","index","blocksPosition","blocksListenerHandler","x","backLeft","backgroundLeft","backTop","backgrounTop","backgroundRepeat","backgroundPosition","blockAmount","ondragstart","preventDefault","background","__webpack_module_cache__","__webpack_require__","moduleId","exports","module","__webpack_modules__","d","definition","key","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call"],"mappings":"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","file":"script.js","sourcesContent":["import Render from './render.js'\r\nlet timerId;\r\nlet min = 0;\r\nlet sec = 0;\r\nlet draggingCell;\r\nlet dragBlock;\r\nclass GameRules extends Render {\r\n    constructor() {\r\n        super();\r\n        this.targetDragBlock;\r\n    }\r\n    audioHandler() {\r\n        if (this.isVolume) {\r\n            const audio = document.querySelector('#click-sound');\r\n            audio.currentTime = 0;\r\n            audio.play();\r\n        }\r\n\r\n    }\r\n    dragStart(e) {\r\n        this.targetDragBlock = e.target;\r\n        const target = e.target.closest('[data-num]');\r\n        const emptyTarget = document.querySelector(`[data-num=\"${this.rows * this.columns}\"]`);\r\n        if (target === emptyTarget) {\r\n\r\n            return\r\n        }\r\n        const field = document.querySelector('.field');\r\n        const draggingIndex = Array.from(field.childNodes).indexOf(e.target)\r\n        draggingCell = this.blocksCoord[draggingIndex];\r\n        dragBlock = e.target.closest('[data-num]');\r\n\r\n\r\n        e.dataTransfer.setData('block', e.target.id);\r\n        target.classList.add('invisible');\r\n        e.dataTransfer.setData('block', target)\r\n    }\r\n    dragFinish(e) {\r\n        const target = e.target.closest('[data-num]');\r\n        target.classList.remove('invisible');   \r\n    }\r\n\r\n    moveHandler(e, indexOfNodes) {\r\n\r\n        const moveCount = document.querySelector('.move-count')\r\n\r\n        const empty = document.querySelector(`[data-num=\"${this.rows * this.columns}\"]`)\r\n        const target = e.target.closest('[data-num]');\r\n        if (target === null) return;\r\n        this.audioHandler()\r\n        const targetElem = this.blocksCoord[indexOfNodes];\r\n        const leftDiv = Math.abs(parseFloat(this.empty.left) - (parseFloat(target.style.left)));\r\n        const topDiv = Math.abs(parseFloat(this.empty.top) - (parseFloat(target.style.top)));\r\n\r\n        if ((topDiv + leftDiv) > this.blockSize) {\r\n            return\r\n        }\r\n        if ((topDiv + leftDiv) == this.blockSize) {\r\n\r\n            moveCount.textContent = ++moveCount.textContent;\r\n        }\r\n        const emptyLeft = empty.style.left;\r\n        const emptyTop = empty.style.top;\r\n        const emptyCell = this.blocksCoord[this.emptyBlock]\r\n        empty.style.left = targetElem.elem.style.left;\r\n        empty.style.top = targetElem.elem.style.top;\r\n\r\n        targetElem.elem.style.top = emptyTop;\r\n        targetElem.elem.style.left = emptyLeft;\r\n        targetElem.left = parseFloat(emptyLeft) / this.blockSize\r\n        targetElem.top = parseFloat(emptyTop) / this.blockSize\r\n        this.empty.left = empty.style.left;\r\n        this.empty.top = empty.style.top;\r\n\r\n        emptyCell.top = parseFloat(this.empty.top) / this.blockSize;\r\n        emptyCell.left = parseFloat(this.empty.left) / this.blockSize;\r\n        const isFinished = this.blocksCoord.every((item) => item.value == item.top * this.rows + item.left)\r\n\r\n\r\n\r\n\r\n\r\n        if (isFinished) {\r\n\r\n            this.winHandler()\r\n\r\n        }\r\n    }\r\n\r\n    dragDrop(e, indexOfNodes, indexOfblockNode) {\r\n        const moveCount = document.querySelector('.move-count')\r\n        let target = e.target;\r\n        let targetElem = this.blocksCoord[indexOfNodes];\r\n        let blockElem = this.blocksCoord[indexOfblockNode]\r\n        const emptyLeft = targetElem.elem.style.left;\r\n        const emptyTop = targetElem.elem.style.top;\r\n\r\n        const leftDiv = Math.abs(parseFloat(this.empty.left) - (parseFloat(dragBlock.style.left)));\r\n        const topDiv = Math.abs(parseFloat(this.empty.top) - (parseFloat(dragBlock.style.top)));\r\n\r\n        if ((topDiv + leftDiv) > this.blockSize) {\r\n            return\r\n        }\r\n\r\n\r\n        target.style.top = draggingCell.elem.style.top\r\n        target.style.left = draggingCell.elem.style.left;\r\n\r\n        draggingCell.elem.style.top = emptyTop\r\n        draggingCell.elem.style.left = emptyLeft\r\n        const empty = document.querySelector(`[data-num=\"${this.rows * this.columns}\"]`)\r\n\r\n        blockElem.left = parseFloat(emptyLeft) / this.blockSize\r\n        blockElem.top = parseFloat(emptyTop) / this.blockSize\r\n\r\n        this.empty.left = empty.style.left;\r\n        this.empty.top = empty.style.top;\r\n        const isFinished = this.blocksCoord.every((item) => item.value == item.top * this.rows + item.left)\r\n        if ((topDiv + leftDiv) == this.blockSize) {\r\n\r\n            moveCount.textContent = ++this.counter;\r\n        }\r\n        if (isFinished) {\r\n\r\n            this.winHandler()\r\n        }\r\n    }\r\n    blocksListenerHandler() {\r\n        const field = document.querySelector('.field');\r\n        field.addEventListener('dragstart', (e) => {\r\n            this.dragStart(e)\r\n        })\r\n        field.addEventListener('click', (event) => {\r\n\r\n            const indexOfNodes = Array.from(field.childNodes).indexOf(event.target);\r\n\r\n            this.moveHandler(event, indexOfNodes)\r\n        })\r\n        field.addEventListener('dragend', this.dragFinish)\r\n        field.addEventListener('drop', (e) => {\r\n\r\n            let indexOfNodes = Array.from(field.childNodes).indexOf(e.target);\r\n            let indexOfblockNode = Array.from(field.childNodes).indexOf(this.targetDragBlock);\r\n            this.dragDrop(e, indexOfNodes, indexOfblockNode)\r\n\r\n        })\r\n\r\n    }\r\n\r\n    swapBlocks(i1, i2) {\r\n\r\n        let t = this.numbers[i1];\r\n        this.numbers[i1] = this.numbers[i2];\r\n        this.numbers[i2] = t;\r\n\r\n\r\n    }\r\n\r\n    checkSolvability(a) {\r\n        let kDisorder = 0\r\n        for (let i = 1, len = a.length - 1; i < len; i++) {\r\n            for (let j = i - 1; j >= 0; j--) {\r\n                if (a[j] > a[i]) {\r\n                    kDisorder++;\r\n                }\r\n            }\r\n        }\r\n        return !(kDisorder % 2);\r\n    }\r\n\r\n    pauseHandler() {\r\n\r\n        clearInterval(timerId)\r\n\r\n    }\r\n    saveGameHandler() {\r\n        // board: [...Array(15).keys()]\r\n\r\n        const moveCount = document.querySelector('.move-count')\r\n       let savedFieldObj = {\r\n           board: {}\r\n       }\r\n       this.blocksCoord.forEach((item) => {\r\n             let savedCoord = item.top*this.rows + item.left\r\n          savedFieldObj.board[`${savedCoord}`] = item.value;\r\n            \r\n            \r\n       })\r\n\r\n       savedFieldObj.min = min;\r\n       savedFieldObj.sec = sec;\r\n       savedFieldObj.moves = moveCount.textContent;\r\n       savedFieldObj.block = this.blockSize;\r\n       savedFieldObj.rows = this.rows;\r\n       savedFieldObj.columns = this.columns\r\n       let gameArray = [];\r\n       gameArray.push(savedFieldObj)\r\n       localStorage.setItem('saveField', JSON.stringify(gameArray))\r\n    }\r\n\r\n    loadGame() {\r\n        document.body.querySelector('.field').remove()\r\n        document.body.querySelector('.header').remove()\r\n        let testNew = new GameRules();\r\n        let fieldObj = JSON.parse(localStorage.getItem('saveField'));\r\n        testNew.numbers = Object.values(fieldObj[0].board).map(item => item = item + 1)\r\n        testNew.rows = fieldObj[0].rows;\r\n        testNew.columns = fieldObj[0].columns;\r\n        testNew.blockSize = fieldObj[0].block;\r\n        testNew.getBlocks();\r\n        testNew.isSolved()\r\n        const field = document.querySelector('.field')\r\n        const moves = document.querySelector('.move-count');\r\n        const pause = document.querySelector('.pause-button')\r\n        moves.textContent = fieldObj[0].moves\r\n        min = fieldObj[0].min\r\n        sec = fieldObj[0].sec\r\n        this.addTimer()\r\n        field.querySelector('.overlay').remove()\r\n        pause.removeAttribute('disabled')\r\n    }\r\n    resumeTimer() {\r\n        const stopWatch = document.querySelector('.stop-watch');\r\n\r\n        timerId = setInterval(() => {\r\n            sec++;\r\n            sec = (parseInt(sec, 10) < 10 ? '0' : '') + sec;\r\n            if (sec > 60) {\r\n                sec = 0;\r\n                min++;\r\n            }\r\n            stopWatch.textContent = `${min}: ${sec}`\r\n        }, 1000)\r\n    }\r\n    newGameHandler() {\r\n        this.pauseHandler()\r\n        let testNew = new GameRules();\r\n        document.body.querySelector('.field').remove()\r\n        document.body.querySelector('.header').remove()\r\n        testNew.init()\r\n        const pause = document.querySelector('.pause-button');\r\n        pause.removeAttribute('disabled')\r\n        min = 0;\r\n        sec = 0;\r\n        const overlay = document.querySelector('.overlay');\r\n        overlay.remove()\r\n        this.addTimer()\r\n    }\r\n    isSolved() {\r\n        const reload = document.querySelector('.reload');\r\n        const newGamStart = document.querySelector('.new-game');\r\n        newGamStart.addEventListener('click', () => {\r\n            this.newGameHandler()\r\n        })\r\n        reload.addEventListener('click', ()=>{\r\n            this.newGameHandler()\r\n        })\r\n    }\r\n    addTimer() {\r\n        const stopWatch = document.querySelector('.stop-watch');\r\n\r\n        timerId = setInterval(() => {\r\n            sec++;\r\n            sec = (parseInt(sec, 10) < 10 ? '0' : '') + sec;\r\n            if (sec > 60) {\r\n                sec = 0;\r\n                min++;\r\n            }\r\n            stopWatch.textContent = `${min}: ${sec}`\r\n        }, 1000)\r\n    }\r\n\r\n    winHandler() {\r\n        this.pauseHandler()\r\n        const field = document.querySelector('.field');\r\n        const overlay = document.createElement('div');\r\n        const moves = document.querySelector('.move-count');\r\n        const win = document.createElement('span');\r\n        const pressReload = document.createElement('span');\r\n        pressReload.classList.add('win')\r\n        const winTime = document.querySelector('.stop-watch')\r\n        win.classList.add('win')\r\n        win.textContent = `Congratulations! You win after ${moves.textContent} moves and ${winTime.textContent}`\r\n        pressReload.textContent = 'Press reload button to start new game';\r\n        overlay.classList.add('overlay');\r\n        overlay.appendChild(win)\r\n        overlay.appendChild(pressReload)\r\n        field.appendChild(overlay)\r\n    }\r\n    automaticSolve() {\r\n        \r\n    }\r\n\r\n    init() {\r\n        \r\n        while (!this.checkSolvability(this.numbers)) {\r\n            \r\n            this.swapBlocks(0, 1)\r\n        }\r\n        super.getBlocks();\r\n        this.isSolved()\r\n    }\r\n}\r\n\r\nlet testNew2 = new GameRules();\r\ntestNew2.init()\r\n\r\n","class Render {\r\n    constructor() {\r\n        this.fieldOptions = [3,4,5,6,7,8]\r\n        this.rows = localStorage.getItem('fieldSize') || 4;\r\n        this.columns = localStorage.getItem('fieldSize') || 4;\r\n        this.blockSize = Math.floor(450 / (this.rows))\r\n        this.empty = {\r\n            value: 16,\r\n            left: 0,\r\n            top: 0,\r\n        }\r\n        this.blocksCoord = [];\r\n       \r\n        this.numbers = [...Array(this.rows * this.columns).keys()].map(item => item = item + 1).sort(()=>Math.random() - 0.5);\r\n        this.counter = 0;\r\n        this.min = 0;\r\n        this.sec = 0;\r\n        this.emptyBlock = 0;\r\n        this.isPause = false;\r\n        this.sortedArray =[];\r\n        this.isVolume = false;\r\n        this.suffleIndex = []\r\n    }\r\n    \r\n    getField() {\r\n        const createIconHTML = (icon_name) => {\r\n            return `<i class=\"material-icons\">${icon_name}</i>`;\r\n          };\r\n        const field = document.createElement('div');\r\n        const header = document.createElement('header');\r\n        const time = document.createElement('div');\r\n        const moves = document.createElement('div');\r\n        const moveCount = document.createElement('span')\r\n        const overlay = document.createElement('div');\r\n        const newGame = document.createElement('button');\r\n        const chooseFieldSize = document.createElement('select');\r\n        const pauseGame = document.createElement('button');\r\n        const stopWatch = document.createElement('span');\r\n        const volumeUp = document.createElement('div');\r\n        const audioClick = document.createElement('audio');\r\n        const reload = document.createElement('div');\r\n        const saveGame = document.createElement('button');\r\n        const loadGame = document.createElement('button');\r\n        const saveChange = document.createElement('span')\r\n        saveChange.classList.add('save-change')\r\n        saveChange.textContent = 'Field size saved. Press \"NEW GAME\" button.'\r\n        reload.classList.add('reload');\r\n        reload.innerHTML = createIconHTML('autorenew');\r\n        saveGame.classList.add('save-game')\r\n        saveGame.textContent = 'Save game';\r\n        loadGame.classList.add('load-game')\r\n        loadGame.textContent = 'Load Game';\r\n        loadGame.addEventListener('click', ()=>{\r\n            this.loadGame()\r\n        })\r\n        saveGame.addEventListener('click',()=>{\r\n            saveGame.textContent ='Game saved';\r\n            setTimeout(()=>{\r\n                saveGame.textContent = 'Save Game'\r\n            }, 1000)\r\n            this.saveGameHandler()\r\n        })\r\n        audioClick.setAttribute('id', 'click-sound');\r\n        audioClick.setAttribute('src', \"./audio/b17af522a99b72f12e392e38f1b08e7e.MP3\")\r\n        volumeUp.classList.add('volume-up');\r\n        volumeUp.innerHTML =  createIconHTML(\"volume_off\");\r\n        volumeUp.addEventListener('click', ()=>{\r\n            this.isVolume = !this.isVolume;\r\n            if(this.isVolume) {\r\n                volumeUp.innerHTML = '';\r\n                volumeUp.innerHTML =  createIconHTML(\"volume_up\");\r\n            } else {\r\n                volumeUp.innerHTML =  createIconHTML(\"volume_off\");\r\n            }\r\n        })\r\n        stopWatch.classList.add('stop-watch');\r\n        stopWatch.textContent = '0: 00';\r\n        \r\n        chooseFieldSize.classList.add('choose-size')\r\n        chooseFieldSize.addEventListener('change', () => {\r\n            chooseFieldSize.childNodes.forEach(item => {\r\n                if (item.selected === true) {\r\n                    localStorage.setItem('fieldSize', item.value)\r\n                }\r\n            })\r\n            overlay.appendChild(saveChange)\r\n            setTimeout(()=>{\r\n                overlay.querySelector('.save-change').remove()\r\n            },1000)\r\n        })\r\n\r\n        this.fieldOptions.forEach(item => {\r\n            const selectItem = document.createElement('option')\r\n            selectItem.textContent = `${item}x${item}`\r\n            selectItem.value = item\r\n            if(item == localStorage.getItem('fieldSize')) {\r\n                selectItem.setAttribute('selected', true)\r\n            }\r\n            chooseFieldSize.appendChild(selectItem)\r\n        })\r\n        newGame.classList.add('new-game')\r\n        newGame.textContent = 'New Game';\r\n\r\n        \r\n        time.classList.add('time');\r\n        time.appendChild(stopWatch)\r\n        moveCount.textContent = 0;\r\n        moveCount.classList.add('move-count')\r\n        moves.classList.add('moves');\r\n        moves.textContent = `Moves: `;\r\n        moves.appendChild(moveCount)\r\n        header.appendChild(moves);\r\n        header.appendChild(time);\r\n        header.appendChild(pauseGame)\r\n        header.appendChild(volumeUp)\r\n        header.appendChild(reload)\r\n        header.classList.add('header')\r\n        field.classList.add('field');\r\n        overlay.classList.add('overlay')\r\n        overlay.appendChild(newGame)\r\n\r\n        overlay.appendChild(saveGame)\r\n        overlay.appendChild(loadGame)\r\n        overlay.appendChild(chooseFieldSize);\r\n        field.appendChild(overlay)\r\n        pauseGame.textContent = 'PAUSE';\r\n        pauseGame.classList.add('pause-button');\r\n        pauseGame.setAttribute('disabled', 'true')\r\n        pauseGame.addEventListener('click', ()=>{\r\n            this.isPause = !this.isPause;\r\n           \r\n            if(this.isPause) {\r\n                pauseGame.textContent = 'RESUME';\r\n                \r\n                field.appendChild(overlay);\r\n                this.pauseHandler()\r\n                \r\n            } else {\r\n                this.resumeTimer()\r\n                pauseGame.textContent = 'PAUSE';\r\n                overlay.remove();\r\n            }\r\n        })\r\n        document.body.appendChild(audioClick)\r\n        document.body.appendChild(header);\r\n        document.body.appendChild(field);\r\n        return field;\r\n    }\r\n\r\n    getBlocks() {\r\n        let newField = this.getField();\r\n        this.checkSolvability(this.numbers)\r\n        this.numbers.forEach((item) => {\r\n            const block = document.createElement('div');\r\n            block.classList.add('field__item');\r\n            block.setAttribute('data-num',item);\r\n            block.setAttribute('draggable', true)\r\n            block.textContent =item + 1 - 1;\r\n            block.style.width = `${this.blockSize}px`;\r\n            block.style.height = `${this.blockSize}px`;\r\n            block.style.backgroundImage = 'url(\"./img/327e3224e20da2aa30c94d226bb2556e.jpg\")';\r\n            this.sortedArray.push(block)\r\n        })\r\n       \r\n    \r\n        this.sortedArray.forEach((item, index)=>{\r\n            this.suffleIndex.push(item.textContent)\r\n            this.blocksPosition(item, index);\r\n         newField.appendChild(item)\r\n     })\r\n        this.blocksListenerHandler()\r\n    }\r\n\r\n     shuffle(a) {\r\n        var j, x, i;\r\n        for (i = a.length - 1; i > 0; i--) {\r\n            j = Math.floor(Math.random() * (i + 1));\r\n            x = a[i];\r\n            a[i] = a[j];\r\n            a[j] = x;\r\n        }\r\n        return a;\r\n    }\r\n    blocksPosition(block, index) {   \r\n        const left = index % this.rows;\r\n        const top = (index - left) / this.rows;\r\n        let backLeft = block.innerHTML % this.rows;\r\n        let backgroundLeft = `-${backLeft*this.blockSize}px`;\r\n        let backTop = (block.innerHTML - backLeft)/this.rows\r\n        let backgrounTop = `-${backTop * this.blockSize}px`;\r\n        block.style.backgroundRepeat = 'no-repeat'\r\n        block.style.backgroundPosition = ` ${backgroundLeft}  ${backgrounTop} `\r\n        \r\n       \r\n        this.blocksCoord.push({\r\n            value: block.innerHTML - 1,\r\n            left: left,\r\n            top: top,\r\n            elem: block,\r\n        })\r\n        let blockAmount = this.rows * this.columns\r\n        if((parseInt(block.innerHTML)) === blockAmount) {\r\n            block.ondragstart = function() {\r\n                return false;\r\n              };\r\n            block.addEventListener('dragover', (e)=>{\r\n                e.preventDefault()\r\n\r\n            })\r\n            \r\n            this.emptyBlock = index\r\n            block.textContent = '';\r\n            block.style.background = 'none'\r\n           \r\n            this.empty.left = `${left * this.blockSize}px`;\r\n            this.empty.top =`${top * this.blockSize}px`;\r\n        }\r\n        block.style.left = `${left * this.blockSize}px`;\r\n        block.style.top = `${top * this.blockSize}px`;\r\n\r\n    }\r\ninit(){\r\n    \r\n}\r\n\r\n}\r\n\r\nexport default Render;\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// startup\n// Load entry module\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(350);\n__webpack_require__(751);\n__webpack_require__(373);\n"],"sourceRoot":""}